<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø«Ø¨Øª Ù†Ø§Ù… Ù…Ø¯Ø±Ø³Ù‡ ÙÙˆØªØ³Ø§Ù„ Ø¹Ù‚Ø§Ø¨ Ù‚Ø´Ù‚Ø§ÛŒÛŒ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/kamadatepicker/dist/kamadatepicker.min.css">
    <script src="https://unpkg.com/kamadatepicker" defer></script>
    <style>
        html {
            scroll-behavior: smooth; 
        }
        body {
            font-family: 'Vazirmatn', sans-serif;
            background-color: #121212; 
            color: #E0E0E0; 
        }
        .qashqai-pattern-bg {
            background-color: #161616; 
            background-image:
                linear-gradient(135deg, #6A0000 25%, transparent 25%),
                linear-gradient(225deg, #6A0000 25%, transparent 25%),
                linear-gradient(45deg, #6A0000 25%, transparent 25%),
                linear-gradient(315deg, #6A0000 25%, transparent 25%);
            background-position: 12px 0, 12px 0, 0 0, 0 0; 
            background-size: 24px 24px; 
            background-repeat: repeat;
        }
        .qashqai-border-subtle {
            border-bottom: 2px solid;
            border-image-slice: 1;
            border-image-source: linear-gradient(to left, #FF0000, #7B0000);
            padding-bottom: 8px;
        }
        .btn-primary {
            background-color: #FF0000; 
            color: white;
            transition: background-color 0.3s ease, transform 0.2s ease;
            position: relative; 
            overflow: hidden; 
        }
        .btn-primary:hover:not(:disabled) {
            background-color: #CC0000; 
            transform: translateY(-2px);
        }
        .btn-primary:disabled {
            background-color: #555555;
            cursor: not-allowed;
        }
        .btn-primary .loading-spinner {
            display: none;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s ease-in-out infinite;
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
        }
        .btn-primary.loading .button-text {
            visibility: hidden;
        }
        .btn-primary.loading .loading-spinner {
            display: block;
        }
        @keyframes spin {
            to { transform: translate(-50%, -50%) rotate(360deg); }
        }

        .form-input {
            background-color: #2C2C2C;
            border: 1px solid #444444;
            color: #E0E0E0;
            border-radius: 0.375rem; 
        }
        .form-input:focus {
            border-color: #FF0000;
            outline: none;
            box-shadow: 0 0 0 2px rgba(255, 0, 0, 0.5);
        }
        .form-input.error-border { /* Ú©Ù„Ø§Ø³ Ø¨Ø±Ø§ÛŒ Ø¨Ø±Ø¯Ø± Ù‚Ø±Ù…Ø² Ø¯Ø± ØµÙˆØ±Øª Ø®Ø·Ø§ÛŒ Ú©Ø¯ Ù…Ù„ÛŒ ØªÚ©Ø±Ø§Ø±ÛŒ */
            border-color: red !important;
        }
        .form-label {
            color: #B0B0B0;
        }
        .card {
            background-color: #1E1E1E;
            border-radius: 0.5rem; 
            padding: 1.5rem; 
            box-shadow: 0 10px 15px -3px rgba(0,0,0,0.2), 0 4px 6px -2px rgba(0,0,0,0.1); 
        }
        .logo-placeholder {
            width: 110px; 
            height: 110px;
            background-color: #FF0000;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem; 
            font-weight: bold;
            border-radius: 0.5rem; 
            margin: 0 auto;
            box-shadow: 0 4px 8px rgba(255,0,0,0.3);
        }
        #form-message {
            display: none;
            padding: 1.25rem; 
            margin-top: 1.5rem;
            border-radius: 0.375rem;
            text-align: center;
            font-weight: 500;
            font-size: 1.1rem; 
            line-height: 1.6;
        }
        #form-message.success {
            background-color: #059669; 
            color: white;
            border: 1px solid #047857;
        }
        #form-message.error {
            background-color: #DC2626; 
            color: white;
            border: 1px solid #B91C1C;
        }
         #form-message.info {
            background-color: #2563EB; 
            color: white;
            border: 1px solid #1D4ED8;
        }
        .contact-item {
            margin-bottom: 0.5rem; 
        }
        .contact-item a {
             direction: ltr; 
             display: inline-block;
        }
    </style>
</head>
<body class="antialiased">

    <header class="py-10 qashqai-pattern-bg">
        <div class="container mx-auto px-4 text-center">
            <h1 class="text-4xl md:text-5xl font-bold text-white mb-3">
                Ø¨Ù‡ Ù…Ø¯Ø±Ø³Ù‡ ÙÙˆØªØ³Ø§Ù„ <span style="color: #FF0000;">Ø¹Ù‚Ø§Ø¨ Ù‚Ø´Ù‚Ø§ÛŒÛŒ</span> Ø¨Ù¾ÛŒÙˆÙ†Ø¯ÛŒØ¯!
            </h1>
            <p class="text-lg md:text-xl text-gray-300">
                Ø«Ø¨Øª Ù†Ø§Ù… ÙØµÙ„ Ø¬Ø¯ÛŒØ¯ Ø¢ØºØ§Ø² Ø´Ø¯ - Ø§Ø³ØªØ¹Ø¯Ø§Ø¯ Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ø§ Ù…Ø±Ø¨ÛŒØ§Ù† Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ Ø´Ú©ÙˆÙØ§ Ú©Ù†ÛŒØ¯.
            </p>
        </div>
    </header>

    <main class="container mx-auto px-4 py-8 md:py-12">
        <section id="about" class="mb-12">
            <div class="card">
                <h2 class="text-3xl font-semibold mb-6 text-center qashqai-border-subtle" style="color: #FF0000;">
                    Ú†Ø±Ø§ Ù…Ø¯Ø±Ø³Ù‡ ÙÙˆØªØ³Ø§Ù„ Ø¹Ù‚Ø§Ø¨ Ù‚Ø´Ù‚Ø§ÛŒÛŒØŸ
                </h2>
                <div class="space-y-4 text-gray-300 text-justify md:text-right">
                    <p>
                        Ù…Ø¯Ø±Ø³Ù‡ ÙÙˆØªØ³Ø§Ù„ Ø¹Ù‚Ø§Ø¨ Ù‚Ø´Ù‚Ø§ÛŒÛŒ Ø¨Ø§ Ù‡Ø¯Ù Ù¾Ø±ÙˆØ±Ø´ Ø§Ø³ØªØ¹Ø¯Ø§Ø¯Ù‡Ø§ÛŒ Ù†Ø§Ø¨ Ùˆ Ù…Ø¹Ø±ÙÛŒ Ø¢ÛŒÙ†Ø¯Ù‡â€ŒØ³Ø§Ø²Ø§Ù† ÙÙˆØªØ³Ø§Ù„ Ú©Ø´ÙˆØ±ØŒ Ø¯Ø± Ù…Ø­ÛŒØ·ÛŒ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ Ùˆ Ù¾ÙˆÛŒØ§ ÙØ¹Ø§Ù„ÛŒØª Ù…ÛŒâ€ŒÚ©Ù†Ø¯. Ù…Ø§ Ø¨Ø§ Ø¨Ù‡Ø±Ù‡â€ŒÚ¯ÛŒØ±ÛŒ Ø§Ø² Ù…Ø±Ø¨ÛŒØ§Ù† Ù…Ø¬Ø±Ø¨ Ùˆ Ø¯Ø§Ø±Ø§ÛŒ Ù…Ø¯Ø§Ø±Ú© Ù…Ø¹ØªØ¨Ø±ØŒ Ø¨Ø± Ø¢Ù…ÙˆØ²Ø´ Ø§ØµÙˆÙ„ÛŒ ØªÚ©Ù†ÛŒÚ©â€ŒÙ‡Ø§ØŒ ØªØ§Ú©ØªÛŒÚ©â€ŒÙ‡Ø§ÛŒ Ø±ÙˆØ² ÙÙˆØªØ³Ø§Ù„ Ùˆ Ù‡Ù…Ú†Ù†ÛŒÙ† ØªÙˆØ³Ø¹Ù‡ Ø§Ø±Ø²Ø´â€ŒÙ‡Ø§ÛŒ Ø§Ø®Ù„Ø§Ù‚ÛŒ Ùˆ ÙˆØ±Ø²Ø´ÛŒ ØªÙ…Ø±Ú©Ø² Ø¯Ø§Ø±ÛŒÙ….
                    </p>
                    <p>
                        Ø¯Ø± Ù…Ø¯Ø±Ø³Ù‡ Ø¹Ù‚Ø§Ø¨ Ù‚Ø´Ù‚Ø§ÛŒÛŒØŒ Ù…Ø§ Ø¨Ù‡ Ù‡Ø± Ø¨Ø§Ø²ÛŒÚ©Ù† Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† ÛŒÚ© Ø³Ø±Ù…Ø§ÛŒÙ‡ Ù†Ú¯Ø§Ù‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ… Ùˆ ØªÙ„Ø§Ø´ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ… ØªØ§ Ø¨Ø§ Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒØ±ÛŒØ²ÛŒ Ø¯Ù‚ÛŒÙ‚ Ùˆ ØªÙ…Ø±ÛŒÙ†Ø§Øª Ù‡Ø¯ÙÙ…Ù†Ø¯ØŒ Ù¾ØªØ§Ù†Ø³ÛŒÙ„ Ú©Ø§Ù…Ù„ Ø¢Ù†â€ŒÙ‡Ø§ Ø±Ø§ Ø´Ú©ÙˆÙØ§ Ø³Ø§Ø²ÛŒÙ…. Ø§Ù…Ú©Ø§Ù†Ø§Øª Ù…Ù†Ø§Ø³Ø¨ØŒ ØªÙˆØ¬Ù‡ Ø¨Ù‡ Ø³Ù„Ø§Ù…Øª Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù† Ùˆ Ø§ÛŒØ¬Ø§Ø¯ ÙØ¶Ø§ÛŒÛŒ Ø¯ÙˆØ³ØªØ§Ù†Ù‡ Ùˆ Ø±Ù‚Ø§Ø¨ØªÛŒ Ø§Ø² Ø¯ÛŒÚ¯Ø± ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ù…Ø¯Ø±Ø³Ù‡ Ù…Ø§Ø³Øª. Ø§Ú¯Ø± Ø¨Ù‡ Ø¯Ù†Ø¨Ø§Ù„ Ù¾ÛŒØ´Ø±ÙØª Ø¯Ø± ÙÙˆØªØ³Ø§Ù„ Ùˆ Ø³Ø§Ø®ØªÙ† Ø¢ÛŒÙ†Ø¯Ù‡â€ŒØ§ÛŒ Ø¯Ø±Ø®Ø´Ø§Ù† Ø¯Ø± Ø§ÛŒÙ† Ø±Ø´ØªÙ‡ Ù‡Ø³ØªÛŒØ¯ØŒ Ù…Ø¯Ø±Ø³Ù‡ Ø¹Ù‚Ø§Ø¨ Ù‚Ø´Ù‚Ø§ÛŒÛŒ Ø¨Ù‡ØªØ±ÛŒÙ† Ø§Ù†ØªØ®Ø§Ø¨ Ø¨Ø±Ø§ÛŒ Ø´Ù…Ø§Ø³Øª.
                    </p>
                </div>
            </div>
        </section>

        <section id="registration-form-section" class="mb-12"> 
            <div class="card">
                <h2 class="text-3xl font-semibold mb-8 text-center qashqai-border-subtle" style="color: #FF0000;">
                    ÙØ±Ù… Ø«Ø¨Øª Ù†Ø§Ù… Ø¢Ù†Ù„Ø§ÛŒÙ†
                </h2>
                <form id="oqbfcForm" class="space-y-6">
                    
                    <fieldset class="border border-gray-600 p-4 rounded-md">
                        <legend class="text-xl font-semibold px-2" style="color: #FF0000;">Û±. Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¨Ø§Ø²ÛŒÚ©Ù†</legend>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-4">
                            <div>
                                <label for="playerName" class="block text-sm font-medium form-label">Ù†Ø§Ù… <span class="text-red-500">*</span></label>
                                <input type="text" name="playerName" id="playerName" required class="mt-1 block w-full form-input">
                            </div>
                            <div>
                                <label for="playerLastName" class="block text-sm font-medium form-label">Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ <span class="text-red-500">*</span></label>
                                <input type="text" name="playerLastName" id="playerLastName" required class="mt-1 block w-full form-input">
                            </div>
                            <div>
                                <label for="playerNationalId" class="block text-sm font-medium form-label">Ú©Ø¯ Ù…Ù„ÛŒ <span class="text-red-500">*</span></label>
                                <input type="text" name="playerNationalId" id="playerNationalId" required pattern="[0-9]{10}" title="Ú©Ø¯ Ù…Ù„ÛŒ Ø¨Ø§ÛŒØ¯ Û±Û° Ø±Ù‚Ù…ÛŒ Ø¨Ø§Ø´Ø¯" class="mt-1 block w-full form-input">
                            </div>
                            <div>
                                <label for="playerBirthDate" class="block text-sm font-medium form-label">ØªØ§Ø±ÛŒØ® ØªÙˆÙ„Ø¯ (Ø´Ù…Ø³ÛŒ) <span class="text-red-500">*</span></label>
                                <input type="text" name="playerBirthDate" id="playerBirthDate" required class="mt-1 block w-full form-input" placeholder="Ù…Ø«Ø§Ù„: Û±Û´Û°Û²/Û°Û±/Û±Ûµ" autocomplete="off">
                            </div>
                             <div>
                                <label for="playerGender" class="block text-sm font-medium form-label">Ø¬Ù†Ø³ÛŒØª <span class="text-red-500">*</span></label>
                                <select name="playerGender" id="playerGender" required class="mt-1 block w-full form-input">
                                    <option value="">Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯...</option>
                                    <option value="male">Ù¾Ø³Ø±</option>
                                    <option value="female">Ø¯Ø®ØªØ±</option>
                                </select>
                            </div>
                            <div>
                                <label for="playerPhoto" class="block text-sm font-medium form-label">Ø¢Ù¾Ù„ÙˆØ¯ Ø¹Ú©Ø³ Ù¾Ø±Ø³Ù†Ù„ÛŒ</label>
                                <input type="file" name="playerPhoto" id="playerPhoto" accept="image/*" class="mt-1 block w-full text-sm text-gray-400 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-red-600 file:text-white hover:file:bg-red-700 cursor-pointer">
                            </div>
                            <div class="md:col-span-2">
                                <label for="playerAddress" class="block text-sm font-medium form-label">Ø¢Ø¯Ø±Ø³ Ø¯Ù‚ÛŒÙ‚ Ù…Ø­Ù„ Ø³Ú©ÙˆÙ†Øª <span class="text-red-500">*</span></label>
                                <textarea name="playerAddress" id="playerAddress" rows="3" required class="mt-1 block w-full form-input"></textarea>
                            </div>
                            <div>
                                <label for="playerPosition" class="block text-sm font-medium form-label">Ù¾Ø³Øª ØªØ®ØµØµÛŒ Ù…ÙˆØ±Ø¯ Ø¹Ù„Ø§Ù‚Ù‡</label>
                                <input type="text" name="playerPosition" id="playerPosition" class="mt-1 block w-full form-input">
                            </div>
                            <div>
                                <label for="playerSkillLevel" class="block text-sm font-medium form-label">Ø³Ø·Ø­ Ù…Ù‡Ø§Ø±Øª ÙØ¹Ù„ÛŒ <span class="text-red-500">*</span></label>
                                <select name="playerSkillLevel" id="playerSkillLevel" required class="mt-1 block w-full form-input">
                                    <option value="">Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯...</option>
                                    <option value="beginner">Ù…Ø¨ØªØ¯ÛŒ</option>
                                    <option value="intermediate">Ù…ØªÙˆØ³Ø·</option>
                                    <option value="advanced">Ø¨Ø§ Ø³Ø§Ø¨Ù‚Ù‡ Ø¨Ø§Ø²ÛŒ</option>
                                </select>
                            </div>
                             <div class="md:col-span-2">
                                <label for="playerExperience" class="block text-sm font-medium form-label">Ø³Ø§Ø¨Ù‚Ù‡ Ø¨Ø§Ø²ÛŒ (Ù†Ø§Ù… ØªÛŒÙ… Ù‚Ø¨Ù„ÛŒØŒ Ù…Ø¯Øª Ø¹Ø¶ÙˆÛŒØª)</label>
                                <input type="text" name="playerExperience" id="playerExperience" class="mt-1 block w-full form-input">
                            </div>
                            <div>
                                <label for="playerShirtSize" class="block text-sm font-medium form-label">Ø³Ø§ÛŒØ² Ù„Ø¨Ø§Ø³ ÙˆØ±Ø²Ø´ÛŒ</label>
                                <input type="text" name="playerShirtSize" id="playerShirtSize" class="mt-1 block w-full form-input">
                            </div>
                             <div>
                                <label for="playerSchoolGrade" class="block text-sm font-medium form-label">Ù…Ø¯Ø±Ø³Ù‡ Ùˆ Ù…Ù‚Ø·Ø¹ ØªØ­ØµÛŒÙ„ÛŒ</label>
                                <input type="text" name="playerSchoolGrade" id="playerSchoolGrade" class="mt-1 block w-full form-input">
                            </div>
                        </div>
                    </fieldset>

                    <fieldset class="border border-gray-600 p-4 rounded-md">
                        <legend class="text-xl font-semibold px-2" style="color: #FF0000;">Û². Ø§Ø·Ù„Ø§Ø¹Ø§Øª ÙˆØ§Ù„Ø¯ÛŒÙ†/Ø³Ø±Ù¾Ø±Ø³Øª (Ø¨Ø±Ø§ÛŒ Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù† Ø²ÛŒØ± Û±Û¸ Ø³Ø§Ù„)</legend>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-4">
                            <div>
                                <label for="guardianName" class="block text-sm font-medium form-label">Ù†Ø§Ù… Ùˆ Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ ÙˆÙ„ÛŒ/Ø³Ø±Ù¾Ø±Ø³Øª</label>
                                <input type="text" name="guardianName" id="guardianName" class="mt-1 block w-full form-input">
                            </div>
                            <div>
                                <label for="guardianRelation" class="block text-sm font-medium form-label">Ù†Ø³Ø¨Øª Ø¨Ø§ Ø¨Ø§Ø²ÛŒÚ©Ù†</label>
                                <input type="text" name="guardianRelation" id="guardianRelation" class="mt-1 block w-full form-input">
                            </div>
                            <div>
                                <label for="guardianNationalId" class="block text-sm font-medium form-label">Ú©Ø¯ Ù…Ù„ÛŒ ÙˆÙ„ÛŒ/Ø³Ø±Ù¾Ø±Ø³Øª</label>
                                <input type="text" name="guardianNationalId" pattern="[0-9]{10}" title="Ú©Ø¯ Ù…Ù„ÛŒ Ø¨Ø§ÛŒØ¯ Û±Û° Ø±Ù‚Ù…ÛŒ Ø¨Ø§Ø´Ø¯" id="guardianNationalId" class="mt-1 block w-full form-input">
                            </div>
                            <div>
                                <label for="guardianPhone" class="block text-sm font-medium form-label">Ø´Ù…Ø§Ø±Ù‡ ØªÙ…Ø§Ø³ Ø¶Ø±ÙˆØ±ÛŒ ÙˆÙ„ÛŒ/Ø³Ø±Ù¾Ø±Ø³Øª <span class="text-red-500">*</span></label>
                                <input type="tel" name="guardianPhone" id="guardianPhone" required class="mt-1 block w-full form-input">
                            </div>
                             <div>
                                <label for="guardianEmail" class="block text-sm font-medium form-label">Ø¢Ø¯Ø±Ø³ Ø§ÛŒÙ…ÛŒÙ„ ÙˆÙ„ÛŒ/Ø³Ø±Ù¾Ø±Ø³Øª <span class="text-red-500">*</span></label>
                                <input type="email" name="guardianEmail" id="guardianEmail" required class="mt-1 block w-full form-input">
                            </div>
                        </div>
                    </fieldset>

                    <fieldset class="border border-gray-600 p-4 rounded-md">
                        <legend class="text-xl font-semibold px-2" style="color: #FF0000;">Û³. Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù¾Ø²Ø´Ú©ÛŒ Ùˆ Ø¨ÛŒÙ…Ù‡</legend>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-4">
                            <div>
                                <label for="playerBloodType" class="block text-sm font-medium form-label">Ú¯Ø±ÙˆÙ‡ Ø®ÙˆÙ†ÛŒ</label>
                                <input type="text" name="playerBloodType" id="playerBloodType" class="mt-1 block w-full form-input">
                            </div>
                            <div class="md:col-span-2">
                                <label for="playerMedicalConditions" class="block text-sm font-medium form-label">Ø¨ÛŒÙ…Ø§Ø±ÛŒ Ø®Ø§ØµØŒ Ø¢Ù„Ø±Ú˜ÛŒ ÛŒØ§ Ø­Ø³Ø§Ø³ÛŒØª Ø¯Ø§Ø±ÙˆÛŒÛŒ</label>
                                <textarea name="playerMedicalConditions" id="playerMedicalConditions" rows="2" class="mt-1 block w-full form-input"></textarea>
                            </div>
                            <div>
                                <label for="playerInsurance" class="block text-sm font-medium form-label">Ø¢ÛŒØ§ Ø¨ÛŒÙ…Ù‡ ÙˆØ±Ø²Ø´ÛŒ Ø¯Ø§Ø±Ø¯ØŸ</label>
                                <select name="playerInsurance" id="playerInsurance" class="mt-1 block w-full form-input">
                                    <option value="">Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯...</option>
                                    <option value="yes">Ø¨Ù„Ù‡</option>
                                    <option value="no">Ø®ÛŒØ±</option>
                                </select>
                            </div>
                             <div>
                                <label for="playerInsuranceDetails" class="block text-sm font-medium form-label">Ø´Ù…Ø§Ø±Ù‡ Ø¨ÛŒÙ…Ù‡â€ŒÙ†Ø§Ù…Ù‡ Ùˆ ØªØ§Ø±ÛŒØ® Ø§Ù†Ù‚Ø¶Ø§ (Ø¯Ø± ØµÙˆØ±Øª Ø¯Ø§Ø´ØªÙ†)</label>
                                <input type="text" name="playerInsuranceDetails" id="playerInsuranceDetails" class="mt-1 block w-full form-input">
                            </div>
                        </div>
                    </fieldset>

                    <fieldset class="border border-gray-600 p-4 rounded-md">
                        <legend class="text-xl font-semibold px-2" style="color: #FF0000;">Û´. ØªÙˆØ§ÙÙ‚â€ŒÙ†Ø§Ù…Ù‡â€ŒÙ‡Ø§ Ùˆ ØªØ¹Ù‡Ø¯Ø§Øª</legend>
                        <div class="space-y-4 mt-4">
                            <div class="flex items-start">
                                <div class="flex items-center h-5">
                                    <input id="rulesAgreement" name="rulesAgreement" type="checkbox" required class="focus:ring-red-500 h-4 w-4 text-red-600 border-gray-500 rounded cursor-pointer">
                                </div>
                                <div class="ml-3 text-sm mr-3">
                                    <label for="rulesAgreement" class="font-medium form-label cursor-pointer">Ù‚ÙˆØ§Ù†ÛŒÙ† Ùˆ Ù…Ù‚Ø±Ø±Ø§Øª Ù…Ø¯Ø±Ø³Ù‡ ÙÙˆØªØ³Ø§Ù„ Ø¹Ù‚Ø§Ø¨ Ù‚Ø´Ù‚Ø§ÛŒÛŒ Ø±Ø§ Ù…Ø·Ø§Ù„Ø¹Ù‡ Ú©Ø±Ø¯Ù‡ Ùˆ Ù…ÛŒâ€ŒÙ¾Ø°ÛŒØ±Ù…. (Ø¨Ø±Ø§ÛŒ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù‚ÙˆØ§Ù†ÛŒÙ† <a href="#" class="text-red-400 hover:text-red-300 hover:underline">Ø§ÛŒÙ†Ø¬Ø§ Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯</a>)</label>
                                </div>
                            </div>
                            <div class="flex items-start">
                                <div class="flex items-center h-5">
                                    <input id="parentalConsent" name="parentalConsent" type="checkbox" class="focus:ring-red-500 h-4 w-4 text-red-600 border-gray-500 rounded cursor-pointer">
                                </div>
                                <div class="ml-3 text-sm mr-3">
                                    <label for="parentalConsent" class="font-medium form-label cursor-pointer">ÙˆØ§Ù„Ø¯ÛŒÙ†/Ø³Ø±Ù¾Ø±Ø³Øª Ù‚Ø§Ù†ÙˆÙ†ÛŒ Ø±Ø¶Ø§ÛŒØª Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ø´Ø±Ú©Øª ÙØ±Ø²Ù†Ø¯Ø´Ø§Ù† Ø¯Ø± ØªÙ…Ø±ÛŒÙ†Ø§Øª Ùˆ Ù…Ø³Ø§Ø¨Ù‚Ø§Øª Ø§Ø¹Ù„Ø§Ù… Ù…ÛŒâ€ŒØ¯Ø§Ø±Ù†Ø¯.</label>
                                </div>
                            </div>
                        </div>
                    </fieldset>
                    
                    <fieldset class="border border-gray-600 p-4 rounded-md">
                        <legend class="text-xl font-semibold px-2" style="color: #FF0000;">Ûµ. Ù†Ø­ÙˆÙ‡ Ø¢Ø´Ù†Ø§ÛŒÛŒ</legend>
                         <div class="mt-4">
                            <label for="howHeard" class="block text-sm font-medium form-label">Ú†Ú¯ÙˆÙ†Ù‡ Ø¨Ø§ Ù…Ø¯Ø±Ø³Ù‡ ÙÙˆØªØ³Ø§Ù„ Ø¹Ù‚Ø§Ø¨ Ù‚Ø´Ù‚Ø§ÛŒÛŒ Ø¢Ø´Ù†Ø§ Ø´Ø¯ÛŒØ¯ØŸ</label>
                            <select id="howHeard" name="howHeard" class="mt-1 block w-full form-input">
                                <option value="">Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯...</option>
                                <option value="friends">Ù…Ø¹Ø±ÙÛŒ Ø¯ÙˆØ³ØªØ§Ù†</option>
                                <option value="social_media">Ø´Ø¨Ú©Ù‡â€ŒÙ‡Ø§ÛŒ Ø§Ø¬ØªÙ…Ø§Ø¹ÛŒ</option>
                                <option value="website">ÙˆØ¨â€ŒØ³Ø§ÛŒØª</option>
                                <option value="advertisement">ØªØ¨Ù„ÛŒØºØ§Øª Ù…Ø­ÛŒØ·ÛŒ/Ø¢Ù†Ù„Ø§ÛŒÙ†</option>
                                <option value="other">Ø³Ø§ÛŒØ± Ù…ÙˆØ§Ø±Ø¯</option>
                            </select>
                        </div>
                    </fieldset>

                    <div class="pt-4">
                        <button type="submit" id="submitButton" class="w-full btn-primary font-semibold py-3 px-4 rounded-md shadow-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-red-500 text-lg">
                            <span class="button-text">Ø§Ø±Ø³Ø§Ù„ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ùˆ ØªÚ©Ù…ÛŒÙ„ Ø«Ø¨Øª Ù†Ø§Ù…</span>
                            <span class="loading-spinner"></span>
                        </button>
                    </div>
                </form>
                <div id="form-message"></div>
            </div>
        </section>
    </main>

    <footer class="mt-12 py-8 qashqai-border-subtle border-t-2 border-gray-700">
        <div class="container mx-auto px-4 text-center text-gray-400">
            <p class="mb-3 text-lg">Ø³ÙˆØ§Ù„Ø§Øª Ù¾ÛŒØ´ Ø§Ø² Ø«Ø¨Øª Ù†Ø§Ù… Ùˆ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ:</p>
            <div class="mb-2">
                <div class="contact-item">
                    <span class="font-medium">Ø¢Ù‚Ø§ÛŒ Ø¢Ù‚Ø§ÛŒÛŒ: </span>
                    <a href="tel:09139819515" class="text-red-400 hover:text-red-300 hover:underline">Û°Û¹Û±Û³-Û¹Û¸Û±-Û¹ÛµÛ±Ûµ</a>
                </div>
                <div class="contact-item">
                    <span class="font-medium">Ø¢Ù‚Ø§ÛŒ Ú¯Ù„Ø³ØªØ§Ù†ÛŒ: </span>
                    <a href="tel:09197542329" class="text-red-400 hover:text-red-300 hover:underline">Û°Û¹Û±Û¹-Û·ÛµÛ´-Û²Û³Û²Û¹</a>
                </div>
                <div class="contact-item">
                    <span class="font-medium">Ø¢Ù‚Ø§ÛŒ Ø±Ù†Ø¬Ø¨Ø±: </span>
                    <a href="tel:09306145252" class="text-red-400 hover:text-red-300 hover:underline">Û°Û¹Û³Û°-Û¶Û±Û´-ÛµÛ²ÛµÛ²</a>
                </div>
                 <div class="contact-item mt-3">
                     <span class="font-medium">Ø§ÛŒÙ…ÛŒÙ„: </span>
                    <a href="mailto:oqbfc403@gmail.com" class="text-red-400 hover:text-red-300 hover:underline">oqbfc403@gmail.com</a>
                </div>
            </div>
            <p class="text-sm mt-4">
                &copy; <span id="currentYear"></span> ØªÙ…Ø§Ù…ÛŒ Ø­Ù‚ÙˆÙ‚ Ù…Ø§Ø¯ÛŒ Ùˆ Ù…Ø¹Ù†ÙˆÛŒ Ø§ÛŒÙ† ÙˆØ¨â€ŒØ³Ø§ÛŒØª Ù…ØªØ¹Ù„Ù‚ Ø¨Ù‡ Ø¨Ø§Ø´Ú¯Ø§Ù‡ ÙÙˆØªØ³Ø§Ù„ Ø¹Ù‚Ø§Ø¨ Ù‚Ø´Ù‚Ø§ÛŒÛŒ Ù…ÛŒâ€ŒØ¨Ø§Ø´Ø¯.
            </p>
        </div>
    </footer>

    
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        document.getElementById('currentYear').textContent = new Date().getFullYear();

        if (typeof kamaDatepicker === 'function') {
            kamaDatepicker('playerBirthDate', {
                buttonsColor: "red",
                forceFarsiDigits: true,
                markToday: true,
                markHolidays: true,
                highlightSelectedDay: true,
                syncKeywordsInput: true,
                gotoToday: true,
                pastYearsCount: 80,
                futureYearsCount: 0,
                placeholder: "Ù…Ø«Ø§Ù„: Û±Û´Û°Û²/Û°Û±/Û±Ûµ"
            });
        } else {
            console.error("KamaDatepicker library is not loaded or not defined at DOMContentLoaded.");
            const playerBirthDateField = document.getElementById('playerBirthDate');
            if(playerBirthDateField) {
                playerBirthDateField.placeholder = "YYYY/MM/DD - Ø®Ø·Ø§ÛŒ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ØªÙ‚ÙˆÛŒÙ…";
            }
        }

        const form = document.getElementById('oqbfcForm');
        const formMessage = document.getElementById('form-message');
        const submitButton = document.getElementById('submitButton');
        const buttonText = submitButton.querySelector('.button-text');
        const registrationFormSection = document.getElementById('registration-form-section');
        const playerNationalIdInput = document.getElementById('playerNationalId');

        // Ú©Ù„ÛŒØ¯ Ø¨Ø±Ø§ÛŒ Ø°Ø®ÛŒØ±Ù‡ Ú©Ø¯Ù‡Ø§ÛŒ Ù…Ù„ÛŒ Ø¯Ø± localStorage
        const REGISTERED_IDS_KEY = 'oqbfc_registered_national_ids';

        function getRegisteredIds() {
            const ids = localStorage.getItem(REGISTERED_IDS_KEY);
            return ids ? JSON.parse(ids) : [];
        }

        function addRegisteredId(nationalId) {
            const ids = getRegisteredIds();
            if (!ids.includes(nationalId)) {
                ids.push(nationalId);
                localStorage.setItem(REGISTERED_IDS_KEY, JSON.stringify(ids));
            }
        }

        function isIdRegistered(nationalId) {
            const ids = getRegisteredIds();
            return ids.includes(nationalId);
        }

        function smoothScrollTo(element, offset = 0) {
            if (element) {
                const elementPosition = element.getBoundingClientRect().top + window.pageYOffset;
                const offsetPosition = elementPosition - offset;
        
                window.scrollTo({
                    top: offsetPosition,
                    behavior: 'smooth'
                });
            }
        }

        form.addEventListener('submit', async function(event) {
            event.preventDefault(); 
            
            submitButton.classList.add('loading');
            submitButton.disabled = true; 
            buttonText.textContent = 'Ø¯Ø± Ø­Ø§Ù„ Ø§Ø±Ø³Ø§Ù„...'; 
            formMessage.style.display = 'none'; 
            playerNationalIdInput.classList.remove('error-border'); // Ø­Ø°Ù Ø¨Ø±Ø¯Ø± Ø®Ø·Ø§ Ø§Ø² Ú©Ø¯ Ù…Ù„ÛŒ Ø¯Ø± Ù‡Ø± Ø¨Ø§Ø± Ø§Ø±Ø³Ø§Ù„


            let isValid = true;
            const requiredInputs = form.querySelectorAll('[required]');
            requiredInputs.forEach(input => {
                input.style.borderColor = '#444444'; 
                let valueToTest = input.value;
                if (input.id === 'playerBirthDate' && typeof input.kamadatepicker !== 'undefined' && input.kamadatepicker && typeof input.kamadatepicker.getValue === 'function') {
                     valueToTest = input.kamadatepicker.getValue();
                }
                if ((!valueToTest || !valueToTest.trim()) && input.type !== 'checkbox') {
                    isValid = false;
                    input.style.borderColor = 'red';
                } else if (input.type === 'checkbox' && !input.checked) {
                    isValid = false;
                }
            });

            if (!isValid) {
                formMessage.innerHTML = '<strong>Ø®Ø·Ø§!</strong> Ù„Ø·ÙØ§Ù‹ ØªÙ…Ø§Ù…ÛŒ ÙÛŒÙ„Ø¯Ù‡Ø§ÛŒ Ø³ØªØ§Ø±Ù‡â€ŒØ¯Ø§Ø± (*) Ùˆ Ù…ÙˆØ§Ø±Ø¯ Ø¶Ø±ÙˆØ±ÛŒ Ø±Ø§ Ø¨Ø§ Ø¯Ù‚Øª ØªÚ©Ù…ÛŒÙ„ Ù†Ù…Ø§ÛŒÛŒØ¯.';
                formMessage.className = 'error'; 
                formMessage.style.display = 'block';
                const firstInvalidInput = form.querySelector('[style*="border-color: red"], input[type="checkbox"]:required:not(:checked)');
                if (firstInvalidInput) {
                    firstInvalidInput.focus();
                    smoothScrollTo(registrationFormSection, 20); 
                } else {
                    smoothScrollTo(registrationFormSection, 20);
                }
                submitButton.classList.remove('loading');
                submitButton.disabled = false; 
                buttonText.textContent = 'Ø§Ø±Ø³Ø§Ù„ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ùˆ ØªÚ©Ù…ÛŒÙ„ Ø«Ø¨Øª Ù†Ø§Ù…';
                return;
            }

            // Ø¨Ø±Ø±Ø³ÛŒ ØªÚ©Ø±Ø§Ø±ÛŒ Ø¨ÙˆØ¯Ù† Ú©Ø¯ Ù…Ù„ÛŒ
            const nationalId = playerNationalIdInput.value.trim();
            if (isIdRegistered(nationalId)) {
                formMessage.innerHTML = `<strong>Ø®Ø·Ø§!</strong> Ú©Ø¯ Ù…Ù„ÛŒ <span dir="ltr" class="font-mono">${nationalId}</span> Ù‚Ø¨Ù„Ø§Ù‹ Ø«Ø¨Øª Ù†Ø§Ù… Ø´Ø¯Ù‡ Ø§Ø³Øª. Ù„Ø·ÙØ§Ù‹ Ø¨Ø§ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ ØªÙ…Ø§Ø³ Ø¨Ú¯ÛŒØ±ÛŒØ¯.`;
                formMessage.className = 'error';
                formMessage.style.display = 'block';
                playerNationalIdInput.classList.add('error-border'); // Ø§ÙØ²ÙˆØ¯Ù† Ø¨Ø±Ø¯Ø± Ù‚Ø±Ù…Ø² Ø¨Ù‡ ÙÛŒÙ„Ø¯ Ú©Ø¯ Ù…Ù„ÛŒ
                playerNationalIdInput.focus();
                smoothScrollTo(formMessage, 20);

                submitButton.classList.remove('loading');
                submitButton.disabled = false;
                buttonText.textContent = 'Ø§Ø±Ø³Ø§Ù„ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ùˆ ØªÚ©Ù…ÛŒÙ„ Ø«Ø¨Øª Ù†Ø§Ù…';
                return; 
            }
            
            const formData = new FormData(form);

            try {
                const response = await fetch('https://formspree.io/f/xqabkper', { // Ø¢Ø¯Ø±Ø³ Formspree Ø´Ù…Ø§
                    method: 'POST',
                    body: formData,
                    headers: {
                        'Accept': 'application/json'
                    }
                });

                if (response.ok) {
                    formMessage.innerHTML = `<strong>ØªØ¨Ø±ÛŒÚ©! Ø«Ø¨Øª Ù†Ø§Ù… Ø´Ù…Ø§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯.</strong><br>Ø¨Ù‡ Ø®Ø§Ù†ÙˆØ§Ø¯Ù‡ Ø¨Ø²Ø±Ú¯ Ø¹Ù‚Ø§Ø¨ Ù‚Ø´Ù‚Ø§ÛŒÛŒ Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯! Ù‡Ù…Ú©Ø§Ø±Ø§Ù† Ù…Ø§ Ø¨Ù‡ Ø²ÙˆØ¯ÛŒ Ø§Ø² Ø·Ø±ÛŒÙ‚ Ø§ÛŒÙ…ÛŒÙ„ ÛŒØ§ Ø´Ù…Ø§Ø±Ù‡ ØªÙ…Ø§Ø³ Ø¨Ø§ Ø´Ù…Ø§ Ø¯Ø± Ø§Ø±ØªØ¨Ø§Ø· Ø®ÙˆØ§Ù‡Ù†Ø¯ Ø¨ÙˆØ¯. Ù…Ù†ØªØ¸Ø± Ø¯ÛŒØ¯Ø§Ø±ØªØ§Ù† Ø¯Ø± Ø²Ù…ÛŒÙ† Ù‡Ø³ØªÛŒÙ…! ğŸ¦…`;
                    formMessage.className = 'success'; 
                    
                    addRegisteredId(nationalId); // Ø°Ø®ÛŒØ±Ù‡ Ú©Ø¯ Ù…Ù„ÛŒ Ù¾Ø³ Ø§Ø² Ø«Ø¨Øª Ù†Ø§Ù… Ù…ÙˆÙÙ‚

                    form.reset(); 
                    if (typeof kamaDatepicker === 'function' && typeof playerBirthDate.kamadatepicker !== 'undefined' && playerBirthDate.kamadatepicker && typeof playerBirthDate.kamadatepicker.destroy === 'function') {
                        playerBirthDate.kamadatepicker.destroy(); 
                        kamaDatepicker('playerBirthDate', { 
                            buttonsColor: "red", forceFarsiDigits: true, markToday: true, markHolidays: true,
                            highlightSelectedDay: true, syncKeywordsInput: true, gotoToday: true,
                            pastYearsCount: 80, futureYearsCount: 0, placeholder: "Ù…Ø«Ø§Ù„: Û±Û´Û°Û²/Û°Û±/Û±Ûµ"
                        });
                    }
                } else {
                    const errorData = await response.json().catch(() => ({})); 
                    console.error('Formspree error data:', errorData);
                    let errorMessage = '<strong>Ø®Ø·Ø§ Ø¯Ø± Ø§Ø±Ø³Ø§Ù„ Ø§Ø·Ù„Ø§Ø¹Ø§Øª.</strong><br>';
                    if (errorData && errorData.errors && errorData.errors.length > 0) {
                        errorMessage += errorData.errors.map(err => err.message || 'Ø®Ø·Ø§ÛŒ Ù†Ø§Ù…Ø´Ø®Øµ Ø§Ø² Ø³Ø±ÙˆØ±').join('<br>');
                    } else if (errorData && errorData.error) {
                        errorMessage += errorData.error;
                    } else {
                        errorMessage += `ÙˆØ¶Ø¹ÛŒØª Ø³Ø±ÙˆØ±: ${response.status}. Ù„Ø·ÙØ§Ù‹ Ø¨Ø¹Ø¯Ø§Ù‹ Ø¯ÙˆØ¨Ø§Ø±Ù‡ ØªÙ„Ø§Ø´ Ú©Ù†ÛŒØ¯ ÛŒØ§ Ø¨Ø§ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ ØªÙ…Ø§Ø³ Ø¨Ú¯ÛŒØ±ÛŒØ¯.`;
                    }
                    formMessage.innerHTML = errorMessage;
                    formMessage.className = 'error';
                }
            } catch (error) {
                console.error('Network or other error submitting to Formspree:', error);
                formMessage.innerHTML = '<strong>Ø®Ø·Ø§ÛŒ Ø´Ø¨Ú©Ù‡.</strong><br>Ù„Ø·ÙØ§Ù‹ Ø§ØªØµØ§Ù„ Ø§ÛŒÙ†ØªØ±Ù†Øª Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ú©Ø±Ø¯Ù‡ Ùˆ Ø¯ÙˆØ¨Ø§Ø±Ù‡ ØªÙ„Ø§Ø´ Ú©Ù†ÛŒØ¯. Ø¯Ø± ØµÙˆØ±Øª Ø§Ø¯Ø§Ù…Ù‡ Ù…Ø´Ú©Ù„ØŒ Ø¨Ø§ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ ØªÙ…Ø§Ø³ Ø¨Ú¯ÛŒØ±ÛŒØ¯.';
                formMessage.className = 'error';
            } finally {
                formMessage.style.display = 'block';
                smoothScrollTo(formMessage, 20); 
                submitButton.classList.remove('loading');
                submitButton.disabled = false; 
                buttonText.textContent = 'Ø§Ø±Ø³Ø§Ù„ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ùˆ ØªÚ©Ù…ÛŒÙ„ Ø«Ø¨Øª Ù†Ø§Ù…';
            }
        });
    }); 
    </script>

</body>
</html>
